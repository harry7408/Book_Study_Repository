# 코루틴 : 언어 차원에서의 지원 vs 라이브러리

### 코루틴은 2가지로 구성되어있다

- 코틀린 언어 자체에서 지원하는 부분 (컴파일러의 지원과 코틀린 기본 라이브러리의 요소)
- 코틀린 코루틴 라이브러리 (kotlinx.coroutines)

**⭐ 둘은 같은 것으로 취급되곤 하지만 전혀 다르다**

### 코틀린 언어 자체적으로 지원하는 코루틴

- 코틀린 언어 차원에서는 자유도 보장을 위해 코루틴을 최소한으로 지원
- 직접 다루기 힘들다
- ex. suspendCoroutine, Continuation 등
- 응용 프로그램 개발자들 보다는 라이브러리 개발자들에게 적합

### kotlinx.coroutines 라이브러리

- **프로젝트에 별도의 의존성을 추가해줘야 한다**
- 코틀린 언어 차원에서 코루틴을 지원하기 위해 만들어졌다
- 언어 자체적으로 지원하는 코루틴과 달리 사용하기 쉬우며 동시성을 명확하게 구현 가능하다
- 응용 프로그램 개발자들에게 적합

### 두 방식의 비교

| **코틀린 언어 차원에서의 지원** | **kotlinx.coroutines 라이브러리** |
| --- | --- |
| 컴파일러가 지원하며 코틀린 기본 라이브러리에 포함 | 의존성을 별도로 추가 |
| kotlin.coroutines 패키지에 포함 | kotlinx.coroutines 패키지에 포함 |
| Continuation, suspendCoroutine 과 같은 몇몇 기본적인 것들과 suspend 키워드를 최소한으로 제공 | launch, async, Deferred 등 다양한 기능 제공 |
| 직접 사용하기 아주 어렵다 | 직접 사용하기 편리하게 설계되어 있다 |
| 거의 모든 동시성 스타일이 허용 | **단 하나의 명확한 동시성 스타일을 위해 설계** |

**⭐ 코루틴 사용 시 둘 모두를 사용하는 것이 대부분 이지만 반드시 그럴 필요는 없다**

→ kotlinx.coroutines 라이브러리가 지원하는 동시성 방식은 우아하고 편리하며 다른 패턴들과도 잘 맞는다. (실제 개발할 때는 이 라이브러리가 많이 활용되는 것 같다)

But 흐름은 언제나 변화할 수 있다는 것을 명심

---

### 요약

- 코루틴에는 2가지 방식이 있다
